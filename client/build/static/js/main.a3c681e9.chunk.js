(this["webpackJsonpmagebit-task-123"]=this["webpackJsonpmagebit-task-123"]||[]).push([[0],{30:function(e,t,a){e.exports={mailCard:"MailList_mailCard__1EQ71"}},31:function(e,t,a){e.exports={loader:"Loader_loader__23xrl",rotate:"Loader_rotate__vSvZM"}},59:function(e,t,a){},61:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(29),s=a.n(c),i=a(34),o=a(2),l=a(4),u=a.n(l),j=a(9),b=a(3),d=a(10),h=a.n(d),p=(a(59),a(8)),f=a(35),O=a(0),m=["children"],x=function(e){var t=e.children,a=Object(f.a)(e,m);return Object(O.jsx)("button",Object(p.a)(Object(p.a)({},a),{},{children:t}))};var A=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(b.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(!1),d=Object(b.a)(l,2),p=d[0],f=d[1],m=Object(n.useState)("Email address is required"),A=Object(b.a)(m,2),v=A[0],g=A[1],w=Object(n.useState)(!0),y=Object(b.a)(w,2),N=y[0],C=y[1],S=Object(n.useState)(!1),B=Object(b.a)(S,2),E=B[0],D=B[1],k=Object(n.useState)(!1),L=Object(b.a)(k,2),I=L[0],T=L[1];Object(n.useEffect)((function(){D(!v&&!N)}),[v,N]);var H=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h.a.post("http://localhost:5000/api/post",{email:a,date:new Date(Date.now())});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"grid-container",children:[Object(O.jsxs)("div",{className:"grid-item-1",children:[Object(O.jsx)("header",{children:Object(O.jsxs)("div",{className:"top-bar",children:[Object(O.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAoCAYAAAALz1FrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARASURBVHgBnZdRUhtHEIZ7BqHwlj2CcoLgE3g5geExxi6LKpCpvAROIOUEkLcUUZXk2CKPoBOwnAByg72B9USVJdjx3z2j1e7s7II8VSBpdnq+7p7unl6iNUd8/DmmNYcObvT7ZDs+mmwHJTI9Csoc1csEIfQwT/H/Jj7+r1PayFrRiQ/L1sg6pa5oIXIvgyTjg5nV2pRBRn+wUupNCYB1eNjJ5V4CkaFoxoKUZVdxdxRZiIrJ8LzaFcAJ5vFc1hGldVs1QFRKmbrGt4g222d8Tm6zAS1d9vDTSJ7zOmPS9SEEoQ0zg+Z7+LFLj8Qbpsk/+3+JNVqfYeOY5vMdrGOlZnU7teKjf7uywGje4H7F4DkT8xyi5hQzI2w+dlbi05yQyvZwDmn88RLuNElx4/h4BFe3YL36uUWLpwTuuMMZRHFvws8ZlGLDiOd4AqBx3PsSKdJ31v6nKT3qWTJ8f20VghtxXvHHCT5pG38AQJYtXsxfKaEeTWANa6oSUqIRx3uHP5OLfUXPDChnRDGWNThLDhAFVxIsvXCKuIV9wL7WJmETZBl9ZEOaofHhpL+cK2kZH34Z40BfIw92kr9/S2ld2DJnMrpPhm/3lvPl6HpcnMDBZGP/B4bNGezz7aA4XfE3TO9IIEhy1YdlZSjDLos4pDniGiEC4nNR9IbWHXOaJuNCGrjRqhXIsltad7SQBggCv4ZV3dWbDPDRpx8f985lOUiHAeacbELOKJvv6E3TafpDRH2yO4hcRO32TTGsVQVg6ITrkwQAFsuShpDO5TIaJMP9P1dyUNBZpDwLusnFu0/5BlYAYamiEMgHeHI5SKEmITfUmQ8oCETOohLItzwgl4M0Kuqv4v/5YkqBIQfI5ZxQ9t1NWbI8AHByKRTjcN5eHnzHP6xa0FN2F3JtxZLDyzHWyA1qIVx9l1HhNQ8lENFUyr9cWhu3jQBlkMzqfAXRuAVFU75KTRBUdBHuj6msC1TsHLCgHaz7fwUh50PrkkqX4kdfMnzXdRWhBCoCiuVFey6pgARg6A//DATEFjmQALR57QMqkAqID5kBLBg45Byk6E4AknzVAlnX3HE7dCuHzE3Glg6WfOm7NFKAA4F7gnbr5W1q7tssK+VHBfAgyRZxswCFEEn6Ku5dfngWUjq84fvET8QKwF1SaDi4rAywduyDdC3A+baS8RxNHmApXwdS6JXsq8CTUqHwyxWQGsZtqWRxGrpm87U96VQGrsWKrSUZ2lAJv/mrEEDG1lbkemGSQ95sB0tQySLpvYruatIsfz0QF/1SzI9GkGtrNaywodpqd5sBJlfET8SgnJ3fZZDmPhdfDoDro+sbPAfINWWQNN5VkPvNll9j/wNxVwjUBFi55O2p5AcyfhlN7pXvBmLnDOA55WlgG29bomGqNGynZLKUmoba6MshK2Jlu/51HGiJPmNzvOG614a1hwfg8R17Veg8+BkBUwAAAABJRU5ErkJggg==",alt:"Union"}),Object(O.jsx)("h3",{children:"pineapple."}),Object(O.jsxs)("ul",{className:"menu",children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"https://magebit.com/",title:"About",children:"About"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"https://magebit.com/",title:"How it works",children:"How it works"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"https://magebit.com/",title:"Contact",children:"Contact"})})]})]})}),Object(O.jsxs)("section",{children:[I?Object(O.jsx)("div",{className:"success",children:Object(O.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAABGCAYAAAC363Y9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUJSURBVHgB7VpNbttGFH4zVrV2T1D5BJbQA5TuvqiMrGo3sA3YStAurK66jHyCyosCqWNAChKlu1hG9xWz66aNegIzJ4hXAULZM3nzZigzEilR5IiyE32ATHE4nPn0+P5pBhPg1F5cAMgS5ArmuSdba3FXOUxE3mSn71mAJODyO8gDgv01bUrB2X9eB8Ye0RmHLjB+5D7+wYNbAOfhnyWQ4hEIqCLHSxDiuEBkGazSDAm7OFh1Djob7pPt/vDOBL/cOtmDThmuRY+4MSK3qrgyp9aRhmxFS1pWleKD/74CxeJrvFKCfOEB5xsgZI/0WbAuPXmQbXVxqMNGopv4A5CkLCPZnrpRqUfwo9yTbQZzQHh9UgMhzkALynNPtzb1mJbruNH5/iaRBSjjjRe4GOQFIi5EcIpP2d8YnTPm1tz2np4ooY2fS8gbes+u4kBcRjCU8Lc/P//q799/fKO+m4l75jN8ZPNGEpXjC5FiBnB0GURY+OxLuLW4KtFBQl8RDvztN3Bbcc3X6cjA4xhFXD3KqnBbwQNussth4D8lPWbScfafOZPuU4YJlkE+dtL12rMqSOnQiT94xdEjIFlo0gDjZxQSx+GpP/PRc6OfZo8wnIcoQMlbdCKgobwX+WF0J0d46Ju4/dp50GmN/HLtSZhcB9sI9FNKb0i03lpFwTVB8J7Jc/ruKXG8CRxIuoKMtKR1EqSi3BmpSWCYjDlgGxzKZu1LJVHnwYsevCu+xT0P9QTZDEe8MUft7LZK8EVRZXC7Y4ujrmPOYVUthlUN2ZHJGmkv6TLgjd6TrVfh+bGRJUTcgXDGJsSGe3rfBRtklY6qxz4kiaQl2tOVf0y2FYHYiiMIz0S8WNzB7w26wNn36jLYgOQ7oZMmDAZHcUQDxEv4oHOI2f7/gTRRn1VV0iApDPy1aQtPg0kjL+hEeQBjVOSlGFvHQvRp1H08ejEytCbmw61gjDxJoGeF4iFkhSp9NLyALIFBSyXrMe41rmoueHrRkBHQYuzS3NWY5vAnQddqxqhH95CTK5x4lah11OMqgcpNJZyj7u4MI45GX7vC2THW75DkNtvabaoSDaV+sh3Zm4jvS3CxZ75V6TEpslolqiYlLePGv8HMZDsNQ9ZD5d2kI0NfTNFWmrXFL7G04i64j9HYfH+NrJdJVX3Uydj+2D6HFdoIIevOviIwC1kg3WWS7bon97umuqnTHuQp/AqNxyB1UenUsJ8BTEtYwBEaTgMSkg17hVmxAinh/fvyn9LX94iLCi6lyj3m/ffSjZpLeQGDXyEjWYXMZfvQPydBRrIKVvoMSYtUG32NZM3ApIhrGlpsdXG4Y7Ar4RyahrYk7FmaMxVWCOswaoIJJt7KuMjAGHNpDPu7caF2VljU4RXd17jpcwQ5gjJGByzBptFR74BJfhNW+fW5/mKv52HHD/+EuesVqOb3WJaFUe4t5dCWSis7Er42Fa6MKJ0Ya9NxJVwOpUdmwh8l4wN/POz674/piHOyJP0BMhFWDQ/9LoIItaMa0HrM9DvwVQAWtauQAZE6vJg3oKOIfiMaI+FFk4VYDpNDc15vQEcxIcR/YsnPAt6ATkOchD1YPDyYFaqSyOuVV9L9Po8E3o6fnvyfJ3FIKWEbfjrdGtlKpLR+OoP3uXM6vCQ8bywJzxtLwvNGNj+8gGwurYQ9yA4PUiCVhG21ndLgzunwsmq2h2XVvBgsq2aL8KIGPwAw5TkmQe1CqAAAAABJRU5ErkJggg==",alt:"Success"})}):"",Object(O.jsx)("div",{className:"heading",style:I?{marginTop:"3.5%"}:{marginTop:"34.4118%"},children:I?Object(O.jsx)("h1",{children:"Thanks for subscribing!"}):Object(O.jsx)("h1",{children:"Subscribe to newsletter"})}),Object(O.jsx)("div",{className:"subheading",children:I?Object(O.jsx)("h2",{children:"You have successfully subscribed to our email listing. Check your email for the discount code."}):Object(O.jsx)("h2",{children:"Subscribe to our newsletter and get 10% discount on pineapple glasses."})}),I?"":Object(O.jsx)("div",{className:"input",children:Object(O.jsxs)("form",{children:[p&&v&&Object(O.jsx)("div",{style:{color:"red"},children:v}),Object(O.jsx)("input",{value:a,onChange:function(e){return function(e){r(e.target.value),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.target.value).toLowerCase())?/\.co$/.test(String(e.target.value).toLowerCase())?g("We are not accepting subscriptions from Colombia emails"):g(""):g("Please provide a valid e-mail address")}(e)},onBlur:function(e){return function(e){e.target.name,f(!0)}(e)},name:"email",type:"text",placeholder:"Type your email address here..."}),Object(O.jsx)(x,{disabled:!E,onClick:function(e){return function(e){H(e),r(""),T(!0)}(e)},children:Object(O.jsx)("div",{className:"fa fa-long-arrow-right"})})]})}),I?"":Object(O.jsxs)("div",{className:"tos",children:[!i&&Object(O.jsx)("div",{style:{color:"red"},children:"You must accept the terms and conditions"}),Object(O.jsxs)("label",{className:"container",children:["I agree"," ",Object(O.jsx)("span",{children:Object(O.jsx)("a",{href:"https://magebit.com/",title:"Subscribe",children:"to terms of service"})}),Object(O.jsx)("input",{value:i,onChange:function(e){return o(!i),void C(!N)},type:"checkbox"}),Object(O.jsx)("span",{className:"checkmark"})]})]}),Object(O.jsx)("div",{className:"line",children:Object(O.jsx)("hr",{className:"horizontal-line"})})]}),Object(O.jsx)("footer",{children:Object(O.jsxs)("div",{className:"social-icons",children:[Object(O.jsx)("a",{href:"https://www.facebook.com/",title:"Facebook",className:"fa fa-facebook"}),Object(O.jsx)("a",{href:"https://www.instagram.com/",title:"Instagram",className:"fa fa-instagram"}),Object(O.jsx)("a",{href:"https://twitter.com/",title:"Twitter",className:"fa fa-twitter"}),Object(O.jsx)("a",{href:"https://www.youtube.com/",title:"Youtube",className:"fa fa-youtube-play"})]})})]}),Object(O.jsx)("div",{className:"grid-item-2"})]})},v=a(16),g=function(e){var t=e.placeholder,a=e.value,n=e.onChange,r=e.name,c=e.type;return Object(O.jsx)("input",{placeholder:t,value:a,onChange:n,name:r,type:c})},w=function(e){var t=e.options,a=e.defaultValue,n=e.value,r=e.onChange;return Object(O.jsxs)("select",{value:n,onChange:function(e){return r(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,value:"",children:a}),t.map((function(e){return Object(O.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},y=function(e){var t=e.filter,a=e.setFilter;return Object(O.jsxs)("div",{children:[Object(O.jsx)(g,{placeholder:"Search...",value:t.query,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{query:e.target.value}))}}),Object(O.jsx)(w,{value:t.sort,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{sort:e}))},defaultValue:"Sort by",options:[{value:"email",name:"Email"},{value:"date",name:"Date"}]})]})},N=a(30),C=a.n(N);var S=function(e){var t=e.sortedAndSearchedData,a=e.deleteMail;return t.length?t.map((function(e){var t=new Date(e.date).toLocaleString("lv-LV",{localeMatcher:"best fit",hour12:!1,formatMatcher:"best fit"});return Object(O.jsxs)("div",{className:C.a.mailCard,children:[Object(O.jsxs)("p",{children:[e.id,". Email: ",e.email,". Date: ",t]}),Object(O.jsx)("button",{onClick:function(){return a(e.id)},children:"Delete"})]},e.id)})):Object(O.jsx)("h1",{style:{textAlign:"center"},children:"No emails found by your search query!"})},B=a(31),E=a.n(B);var D=function(){return Object(O.jsx)("div",{className:E.a.loader})},k=(a(61),function(e,t){return Math.ceil(e/t)}),L=function(e){var t=e.totalPages,a=e.page,n=e.setPage,r=function(e){for(var t=[],a=0;a<e;a++)t.push(a+1);return t}(t);return Object(O.jsx)("div",{className:"page__wrapper",children:r.map((function(e){return Object(O.jsx)("span",{onClick:function(){return n(e)},className:a===e?"page page__current":"page",children:e},e)}))})},I=function(e){var t=e.filter,a=e.setFilter,n=e.options;return Object(O.jsx)("div",{style:{marginTop:"10px",display:"flex",flexWrap:"wrap",flexDirection:"row"},children:n.map((function(e){return Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("input",{type:"radio",id:e.name,name:"filter",value:e.value,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{filter:e.target.value}))}}),Object(O.jsx)("label",{htmlFor:e.name,children:e.name})]},e.name)}))})},T=function(e){var t=[];e.map((function(e){t.push(e.email)}));var a=[];t.map((function(e){a.push(e.substring(e.lastIndexOf("@")))}));var n=Object(v.a)(new Set(a)),r=[];return n.map((function(e){r.push({value:e,name:e})})),r};var H=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(b.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)([]),d=Object(b.a)(l,2),p=d[0],f=d[1],m=Object(n.useState)({sort:"date",filter:"",query:""}),A=Object(b.a)(m,2),N=A[0],C=A[1],B=Object(n.useState)(0),E=Object(b.a)(B,2),H=E[0],Q=E[1],R=Object(n.useState)(""),F=Object(b.a)(R,2),U=F[0],G=F[1],J=Object(n.useState)(10),V=Object(b.a)(J,2),Z=V[0],M=V[1],P=Object(n.useState)(1),Y=Object(b.a)(P,2),q=Y[0],K=Y[1];Object(n.useEffect)((function(){W(),X()}),[q,Z]);var W=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r(!0),"http://localhost:5000/api/get",setTimeout(Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:5000/api/get");case 2:t=e.sent,r(!1),a=t.headers["x-total-count"],Q(k(a,Z)),G(a);case 7:case"end":return e.stop()}}),e)}))),500)}catch(t){console.log(t,"Error 1: get")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r(!0),"http://localhost:5000/api/get",setTimeout(Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("http://localhost:5000/api/get",{params:{_limit:Z,_page:q}});case 2:t=e.sent,f(t.data),r(!1);case 5:case"end":return e.stop()}}),e)}))),500)}catch(t){console.log(t,"Error 2: get")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post("http://localhost:5000/api/post",{email:i,date:new Date(Date.now())});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0.response.data.message),console.log("".concat(e.t0.response.data.message,"."),"Error 2: post");case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(t),o("");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=Object(n.useMemo)((function(){return N.sort?Object(v.a)(p).sort((function(e,t){return e[N.sort].localeCompare(t[N.sort])})):p}),[N.sort,p]),ee=Object(n.useMemo)((function(){return N.filter?$.filter((function(e){return e.email.toLowerCase().includes(N.filter.toLowerCase())})):p}),[p,$,N.filter]),te=Object(n.useMemo)((function(){return ee.filter((function(e){return e.email.toLowerCase().includes(N.query.toLowerCase())}))}),[N.query,$,ee]);return Object(O.jsxs)("div",{className:"mailList",children:[Object(O.jsxs)("h1",{children:["Email Total Count: ",U]}),Object(O.jsx)(x,{onClick:function(){W()},children:"Refresh the list"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(g,{value:i,onChange:function(e){return function(e){o(e.target.value)}(e)},name:"email",type:"text",placeholder:"Type your email address here..."}),Object(O.jsx)(x,{onClick:function(e){return _(e)},children:Object(O.jsx)("div",{className:"fa fa-long-arrow-right"})}),Object(O.jsx)("hr",{style:{margin:"15px 0"}}),Object(O.jsx)(y,{filter:N,setFilter:C}),Object(O.jsx)(w,{value:Z,onChange:function(e){return M(e)},defaultValue:"Element q-ty per page",options:[{value:10,name:"10"},{value:25,name:"25"},{value:U,name:"Show All"}]}),Object(O.jsx)(I,{filter:N,setFilter:C,options:T(p)}),a?Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"50px"},children:Object(O.jsx)(D,{})}):Object(O.jsx)(S,{sortedAndSearchedData:te,deleteMail:function(e){h.a.delete("http://localhost:5000/api/delete/".concat(e))}}),Object(O.jsx)(L,{totalPages:H,page:q,setPage:K,totalCount:U})]})};var Q=function(){return Object(O.jsx)(i.a,{children:Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/main",children:Object(O.jsx)(A,{})}),Object(O.jsx)(o.b,{path:"/maillist",children:Object(O.jsx)(H,{})}),Object(O.jsx)(o.a,{to:"/main"})]})})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Q,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.a3c681e9.chunk.js.map